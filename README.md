# 车载人机监控界面|车载仪表盘|HMI

![版本](https://img.shields.io/badge/版本-1.0-blue)
![React](https://img.shields.io/badge/React-19.0.0-61dafb)
![Vite](https://img.shields.io/badge/Vite-6.2.0-646cff)

## 项目介绍

车载人机监控界面是一个基于React的可视化监控平台，专为实时数据监控设计。系统可通过UDP协议接收远程服务器数据，并将数据以直观的仪表盘形式展示。系统核心功能包括速度监控、电量监控、驾驶模式显示等多种数据指标的实时展示。
![image](https://github.com/user-attachments/assets/555555e5-8a50-460c-a605-78e309e94a87)
本项目是一个基于cursor vibe coding开发的项目。

### 主要特性

- **实时数据监控**：通过UDP协议实时接收并显示各项数据指标
- **自适应界面设计**：适配从手机到大屏显示器的多种分辨率
- **网络状态监测**：智能检测UDP连接状态，及时提示网络异常
- **可配置信息面板**：展示驾驶模式、工作时长、里程等关键信息
- **高性能仪表盘**：采用高性能图形渲染，流畅展示速度和电量数据

## 技术栈

- React 19.0.0
- Vite 6.2.0
- react-gauge-component 1.2.64
- react-icons 5.5.0
- cursor

## 仪表盘组件

本项目的核心可视化组件基于[react-gauge-component](https://www.npmjs.com/package/react-gauge-component)实现。该组件提供了丰富的仪表盘类型和自定义选项：

- 支持多种仪表盘类型（半圆形、径向等）
- 可自定义指针样式（箭头、指针、渐变）
- 灵活的色彩配置和刻度标记
- 响应式设计，适应不同屏幕尺寸
- 平滑动画效果

在本项目中，我们使用该组件的半圆形仪表盘展示速度和电量信息，并通过CSS进行了深度定制，使其更符合整体设计风格。

## 系统架构

系统由以下主要模块组成：

- **Header组件**：显示时间和网络连接状态
- **InfoPanel组件**：展示驾驶模式、工作时长等关键信息
- **CustomGauge组件**：速度仪表盘，实时显示当前速度
- **SimpleGauge组件**：电量仪表盘，实时显示当前电量
- **UDP服务**：负责接收和解析UDP数据包
- **网络监控服务**：监控UDP连接状态

## 数据通信

系统通过UDP协议（端口10086）接收来自远程服务器（IP: 172.25.109.2）的数据，数据包格式如下：

- 第1字节：帧类型（0x86）
- 第2-3字节：生命信号（大端编码）
- 第4字节：驾驶模式
- 第5-6字节：工作时长（大端编码）
- 第7-8字节：运行里程（大端编码）
- 第9-10字节：距主井口距离（大端编码）
- 第11-12字节：目标距离（大端编码）
- 第13-14字节：速度（大端编码，单位为0.01米/秒）
- 第15字节：电量百分比

## 未来计划

本版本为1.0 Preview版本，后续计划添加以下功能：

- 历史数据图表展示
- 数据导出功能
- 自定义仪表盘布局
- 多设备远程监控

## 截图

*(此处可添加系统截图)*

## 许可证

MIT

## 安装部署

### 系统要求

- Node.js 18.0.0 或更高版本
- npm 9.0.0 或更高版本
- Windows/Linux/macOS 操作系统

### 安装步骤

1. 克隆项目代码
```bash
git clone [项目仓库地址]
cd gaugetest
```

2. 安装依赖
```bash
npm install
```

3. 配置环境变量
在项目根目录创建 `.env` 文件，配置以下环境变量：
```env
VITE_UDP_SERVER_IP=172.25.109.2
VITE_UDP_SERVER_PORT=10086
```

4. 启动开发服务器
```bash
npm run dev
```

5. 构建生产版本
```bash
npm run build
```

构建完成后，生产版本文件将位于 `dist` 目录中。

### 部署说明

#### 开发环境
- 直接运行 `npm run dev` 启动开发服务器
- 访问 `http://localhost:5173` 查看应用

#### 生产环境
1. 执行 `npm run build` 生成生产版本
2. 将 `dist` 目录下的文件部署到 Web 服务器
3. 配置 Web 服务器（nginx 示例）：
```nginx
server {
    listen 80;
    server_name your-domain.com;

    root /path/to/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

## 使用说明

### 启动应用
1. 确保远程数据服务器（UDP服务器）已启动并正常运行
2. 启动 Web 应用后，系统将自动连接到配置的 UDP 服务器
3. 界面顶部的网络状态指示器会显示当前连接状态：
   - 绿色：连接正常
   - 红色：连接异常

### 界面说明
- **速度仪表盘**：实时显示当前速度，单位为米/秒
- **电量仪表盘**：显示当前电量百分比
- **信息面板**：
  - 显示当前驾驶模式
  - 显示累计工作时长
  - 显示运行里程
  - 显示距离信息

### 注意事项
1. 确保防火墙允许 UDP 端口 10086 的通信
2. 建议使用 Chrome、Firefox、Edge 等现代浏览器访问
3. 如遇到网络连接问题，请检查：
   - UDP 服务器是否正常运行
   - 网络连接是否正常
   - 环境变量配置是否正确
